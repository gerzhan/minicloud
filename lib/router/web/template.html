<!doctype html>
<html ng-app="minicloudWebApp@sub_app_bname">

<head>
    <!--ie edge-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!--360 browser defaut webkit-->
    <meta content="webkit" name="renderer">
    <meta charset="utf-8">
    <title>{{ 'APP_NAME' | translate }}</title>
    <meta name="description" content="{{'APP_DESCRIPTION' | translate }}">
    <meta name="viewport" content="width=device-width">
    <link href="//@static_host/static/assets/global/css/style.css" rel="stylesheet">
    <link href="//@static_host/static/assets/global/css/ui.css" rel="stylesheet">
    <link rel="stylesheet" href="//@static_host/static/@sub_app_name/@version/styles/vendor.css">
    <link rel="stylesheet" href="//@static_host/static/@sub_app_name/@version/styles/app.css">
</head>

<body class="{{bodylayout}}">
    <div id='minicloud-loading'>
        <!--loading-->
        <style type="text/css">
        .loader-overlay {
            -moz-opacity: 1;
            -moz-perspective: 10000;
            -moz-perspective: 10000px;
            -moz-transition: all 800ms ease-in-out;
            -o-transition: all 800ms ease-in-out;
            -webkit-opacity: 1;
            -webkit-perspective: 10000;
            -webkit-perspective: 10000px;
            -webkit-transition: all 800ms ease-in-out;
            background: #2D2E2F;
            bottom: 0;
            filter: alpha(opacity=100);
            left: 0;
            opacity: 1;
            overflow: hidden;
            perspective: 10000;
            perspective: 10000px;
            position: fixed;
            right: 0;
            top: 0;
            transition: all 800ms ease-in-out;
            z-index: 10000;
            zoom: 1;
        }
        
        .loader-overlay .loader-inner {
            left: 50%;
            margin-left: -15px;
            margin-top: -15px;
            position: absolute;
            top: 50%;
        }
        
        .loader-overlay.loaded {
            -moz-opacity: 0;
            -webkit-opacity: 0;
            filter: alpha(opacity=0);
            opacity: 0;
            visibility: hidden;
            zoom: 1;
        }
        
        .spinner {
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            -webkit-user-select: none;
            bottom: 0;
            height: 2em;
            left: 0;
            margin: auto;
            position: absolute;
            right: 0;
            text-align: center;
            top: 0;
            user-select: none;
            width: 10em;
        }
        
        .spinner .bounce1 {
            -webkit-animation-delay: -0.32s;
            animation-delay: -0.32s;
            margin-right: 1em;
        }
        
        .spinner .bounce2 {
            -webkit-animation-delay: -0.16s;
            animation-delay: -0.16s;
            margin-right: 1em;
        }
        
        .spinner > div {
            -moz-border-radius: 100%;
            -webkit-animation-fill-mode: both;
            -webkit-animation: bouncedelay 1.4s infinite ease-in-out;
            -webkit-border-radius: 100%;
            animation-fill-mode: both;
            animation: bouncedelay 1.4s infinite ease-in-out;
            background-color: #ffffff;
            border-radius: 100%;
            display: inline-block;
            height: 1em;
            width: 1em;
        }
        
        .landing-slider .spinner > div {
            background-color: rgba(255, 255, 255, 0.5);
        }
        
        .landing-els .spinner > div {
            background-color: rgba(0, 0, 0, 0.2);
        }
        
        @-webkit-keyframes bouncedelay {
            0%,
            80%,
            100% {
                -webkit-transform: scale(0);
            }
            40% {
                -webkit-transform: scale(1);
            }
        }
        
        @keyframes bouncedelay {
            0%,
            80%,
            100% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }
            40% {
                -webkit-transform: scale(1);
                transform: scale(1);
            }
        }
        </style>
        <div class="loader-overlay">
            <div class="spinner">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
            </div>
        </div>
    </div>
    <!--[if lt IE 10]>
 <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
 <![endif]-->
    <div ui-view=""></div>
    <script type="text/javascript">
    //check browser
    var isSupport = function() {
        var agent = navigator.userAgent
        var isIE = agent.indexOf('MSIE') > 0
        if (isIE) {
            //need ie version>10
            var version = parseInt(agent.split('MSIE')[1])
            if (version < 10) {
                return false
            }
        }
        return true
    }()
    if (!isSupport) {
        alert('your browser version too lower,please upgrade!')
    } else {
        //check network
        var url = '//@static_host'
        var xmlHttp = new XMLHttpRequest()
        xmlHttp.onreadystatechange = function() {
            if (xmlHttp.readyState === 4) {
                if (xmlHttp.status !== 200) {
                    //hide loadding 
                    var loadingNode = document.getElementById('minicloud-loading')
                    loadingNode.style.display = 'none'
                    alert('Cannot access url,please check\n' + url)
                }
            }
        }
        xmlHttp.open("GET", url, true)
        xmlHttp.send(null)
    }
    </script>
    <script src="//@static_host/static/@sub_app_name/@version/scripts/vendor.js"></script>
    <script src="//@static_host/static/@sub_app_name/@version/scripts/app.js"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        var loadingNode = document.getElementById('minicloud-loading')
        loadingNode.style.display = 'none'
    })
    </script>
</body>

</html>
